{% extends 'base.html' %}
{% load crispy_forms_filters %}
{% load static %}


{% block content %}

<section id="container">
    <h1 class="heading">{{username}}'s page</h1>

    <form action="{% url 'change_stuff' %}" method="POST">
        {% csrf_token %}
        <fieldset>
            <legend>Update details</legend>
            {{form|crispy}}

            <div class="d-grid">
                <button class="btn btn-primary submit-button" type="submit">Update</button>
              </div>
        </fieldset>
    </form>

    <br>

    <form action="{% url 'change_password' %}" method="POST">
        {% csrf_token %}
        <fieldset>
            <legend>Change password</legend>
            {{change_password_form|crispy}}
            <div class="d-grid">
                <button class="btn btn-primary submit-button" type="submit">Change password</button>
              </div>
        </fieldset>
    </form>
    {% if messages %}
    <ul>
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.info }}" {% endif %}>{{ message }}</li>
            {% endfor %}
    </ul>
    {% endif %}

    <br>

    <form action="{% url 'confirmation' %}" method="GET">
        <fieldset>
            <legend>Delete user profile</legend>
            <div class="d-grid">
                <button class="btn btn-danger" type="submit">Delete</button>
              </div>
        </fieldset>

    </form>
</section>
{% endblock %}

{% block scripts %}
<script src="{% static 'users/users.js' %}"></script>
{% endblock %}